
# 7.0 – Delivery Run System

## 🛵 Overview
The "Delivery Run" is a short, semi-automatic arcade sequence (~20–30 seconds) representing the operational performance of each active noodle bar during a period. It combines auto-play visuals with player-triggered interventions to boost results or mitigate issues.

---

## 🎮 Gameplay Summary
- One horizontal line per active restaurant.
- Each line contains:
  - Restaurant image and assigned employees.
  - Animated delivery scooter progressing across the screen.
  - Chat bubbles with real-time events (positive/negative).
  - A dynamic bar showing financial progression (losses/gains).
- The player watches the simulation and can optionally interact using special actions.

---

## 🛠️ Player Interventions

During a run, the player can spend funds to trigger support actions:

| Action | Description | Cost |
|-------|-------------|------|
| **🧯 Emergency Response** | Resolves a critical ongoing issue (e.g., kitchen error, delivery delay). Reduces potential losses. | ¥500 per restaurant |
| **⚡ Boost Service** | Temporarily increases delivery speed and customer satisfaction for all restaurants (5 sec effect). | ¥1000 |
| **🎉 Mini Event** | Forces a random positive event: influencer visit, perfect delivery, VIP customer. Boosts profits and employee mood. | ¥1500 |

- Interactions shown in a small UI panel (click/tap).
- Cooldown of 3–5 seconds per action.

---

## 📊 Post-Run Summary (3-Step)

### 1. Business Performance
- Each restaurant displays:
  - Sales volume
  - Maintenance costs
  - Labor costs
  - Final profit (color-coded: red, yellow, green)

### 2. Employee Outcomes
- Employees earn XP based on their performance.
- Mood increases (+1) if the restaurant performed well.
- Mood decreases (−1) if underperformed or stressed.

### 3. Ranking Progression
- Displays updated pyramid rank using the current score.
- Animations/text provide emotional feedback:
  - "Perfect delivery day!"
  - "We’re getting better!"
  - "Ouch... Too many complaints today."

---

## ⚙️ System Logic
- Events are drawn from probability pools:
  - Employee performance vs property requirements.
  - Current burnout level.
  - Restaurant upgrade levels.
- Runs can be simulated fully with Phaser, while React updates the UI overlays.

---

## 📌 Notes
- Each delivery run reflects the company’s decisions during the preparation phase.
- Offers both passive watching and active strategic inputs.
- Balanced to be short, satisfying, and optionally skillful.
